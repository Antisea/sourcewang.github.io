---
layout: post
title: Repo 库使用
---

Repo 简单用法

## 简单用法

### Repo 方式

> repo 是google 出品的调用git 进行下载的脚本，他可以下载并管理多个git库，而这个整体，我们称为repo库
    
    repo init -u $URL -b $branch
    repo sync
    //repo sync -j 6 后面-j 的意思是启用几个并发进程下载代码

### Git 方式

> 针对单个git库进行下载

    git clone $URL -b $branch

### 简单报错排查

1. key 是否配好
* ssh -p PORT $username@server

2. 在init 阶段出错
* repo文件有问题，检查repo文件：
** 检查环境变量的配置
* 已经init 过，或者父目录已经init 过，导致无法init

3. 刚开始sync就出错
* repo有问题
* 没有权限，导致无法下载，查看该用户是否有权限
* 有权限，检查.netrc 和.gitconfig 配置，查看是否正确配置了账户和密码

4. sync一段后出错
* 本身库的权限是有的，但是group的权限没有
* 在下载过程中，父目录做过init操作

5. 其他
* 网络出现问题
* git版本与gitlab不兼容
* 系统版本有时也会影响

